# 序列类型—list，tuple,range

Python中基本的序列类型有list，tuple，range。

> 字符串也是序列类型，不过是专门用来处理文本的。

## 一、通用序列操作

| 运算               | 结果                                                      |
| :----------------- | :-------------------------------------------------------- |
| `x in s`           | 如果 *s* 中的某项等于 *x* 则结果为 `True`，否则为 `False` |
| `x not in s`       | 如果 *s* 中的某项等于 *x* 则结果为 `False`，否则为 `True` |
| `s + t`            | *s* 与 *t* 相拼接(**不适于range**)                        |
| `s * n` 或 `n * s` | 相当于 *s* 与自身进行 *n* 次拼接(**不适于range**)         |
| `s[i]`             | *s* 的第 *i* 项，起始为 0                                 |
| `s[i:j]`           | *s* 从 *i* 到 *j* 的切片                                  |
| `s[i:j:k]`         | *s* 从 *i* 到 *j* 步长为 *k* 的切片                       |
| `len(s)`           | *s* 的长度                                                |
| `min(s)`           | *s* 的最小项                                              |
| `max(s)`           | *s* 的最大项                                              |
| `s.count(x)`       | *x* 在 *s* 中出现的总次数                                 |



## 二、可变序列类型—list(列表)

### 1. list的常用操作

| 运算             | 结果                                                         | 注释                                                         |
| :--------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| `s[i] = x`       | 将 *s* 的第 *i* 项替换为 *x*                                 |                                                              |
| `s[i:j] = t`     | 将 *s* 从 *i* 到 *j* 的切片替换为可迭代对象 *t* 的内容       |                                                              |
| `del s[i:j]`     | 等同于 `s[i:j] = []`                                         |                                                              |
| `s[i:j:k] = t`   | 将 `s[i:j:k]` 的元素替换为 *t* 的元素                        | t需要和`s[i:j:k]`长度相同。                                  |
| `del s[i:j:k]`   | 从列表中移除 `s[i:j:k]` 的元素                               |                                                              |
| `s.append(x)`    | 将 *x* 添加到序列的末尾 (等同于 `s[len(s):len(s)] = [x]`)    |                                                              |
| `s.clear()`      | 从 *s* 中移除所有项 (等同于 `del s[:]`)                      |                                                              |
| `s.copy()`       | 创建 *s* 的浅拷贝 (等同于 `s[:]`)                            |                                                              |
| `s += t`         | 用 *t* 的内容扩展 *s* (基本上等同于 `s[len(s):len(s)] = t`)  |                                                              |
| `s *= n`         | 使用 *s* 的内容重复 *n* 次来对其进行更新                     |                                                              |
| `s.insert(i, x)` | 在由 *i* 给出的索引位置将 *x* 插入 *s* (等同于 `s[i:i] = [x]`) |                                                              |
| `s.pop([i])`     | 提取在 *i* 位置上的项，并将其从 *s* 中移除                   | 可选参数 *i* 默认为 `-1`，因此在默认情况下会移除并返回最后一项。 |
| `s.remove(x)`    | 删除 *s* 中第一个 `s[i]` 等于 *x* 的项目。                   |                                                              |
| `s.reverse()`    | 原地将列表中的元素逆序。                                     |                                                              |
| `s.sort()`       | 原地对列表进行排序，默认升序。                               |                                                              |



### 2.构造list的方法

常用的构造列表的方法：

- 使用一对方括号来表示空列表: `[]`

- 使用方括号，其中的项以逗号分隔: `[a]`, `[a, b, c]`

- 使用类型的构造器: `list()` 或 `list(iterable)`

  > 构造器将构造一个列表，其中的项与可迭代对象 *iterable* 中的项具有相同的的值与顺序。可迭代对象 *iterable* 可以是序列、支持迭代的容器或其它可迭代对象。 如果 可迭代对象*iterable* 已经是一个列表，将创建并返回其副本，类似于 `iterable[:]`。

- 使用列表推导式: `[x for x in iterable]`



## 二、元组tuple

元组是不可变序列，不可变序列类型普遍实现而可变序列类型未实现的唯一操作就是对 `hash()`内置函数的支持。

这种支持允许不可变类型，例如 `tuple`实例被用作 `dict`键，以及存储在 `set`和 `frozenset` 实例中。

### 1.构造tuple的方法

构造tuple的方法：

- 使用一对圆括号来表示空元组: `()`
- 使用一个后缀的逗号来表示单元组: `a,` 或 `(a,)`
- 使用以逗号分隔的多个项: `a, b, c` or `(a, b, c)`
- 使用内置的 [`tuple()`](https://docs.python.org/zh-cn/3/library/stdtypes.html#tuple): `tuple()` 或 `tuple(iterable)`

> 决定生成元组的其实是逗号而不是圆括号。 圆括号只是可选的，生成空元组或需要避免语法歧义的情况除外。 例如，`f(a, b, c)` 是在调用函数时附带三个参数，而 `f((a, b, c))` 则是在调用函数时附带一个三元组。



## 三、range对象

range类型表示不可变的数字序列，通常用于for循环中指定循环的次数。

range的使用方法介绍如下：

+ `range(end)`：默认`[0,end)`区间，步长为1。
+ `range(start,end)`:默认`[start,end)`区间，步长为1。
+ `range(start, end, step)`:`[start,end)`区间，步长为step。

```python
>>> list(range(10))
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> list(range(1, 11))
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
>>> list(range(0, 30, 5))
[0, 5, 10, 15, 20, 25]
>>> list(range(0, 10, 3))
[0, 3, 6, 9]
>>> list(range(0, -10, -1))
[0, -1, -2, -3, -4, -5, -6, -7, -8, -9]
>>> list(range(0))
[]
>>> list(range(1, 0))
[]
```

> `range`类型相比常规 `list` 或 `tuple`的优势在于一个 `range`对象总是占用固定数量的（较小）内存，不论其所表示的范围有多大（因为它只保存了 `start`, `stop` 和 `step` 值，并会根据需要计算具体单项或子范围的值）。

